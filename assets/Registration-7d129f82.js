import{u as P,r as t,j as e,B as s,H as B,G as L,b as F,A as T,F as o,c as q,m as N,T as m,d as _,n as H,C as d,f as c,g as U,M as V,h as R,i as y,k as O,P as $,l as K}from"./index-7cddf6c1.js";const J=()=>{const j=P(),I=`${window.location.origin}/default_profile.png`,[h,f]=t.useState(""),[p,b]=t.useState(""),[n,w]=t.useState(""),[u,S]=t.useState(""),[v,l]=t.useState(""),E=t.useState(""),C=t.useState(""),[k,x]=t.useState(!1),z=()=>n===u,A=()=>{f(""),b(""),w(""),S("")},D=a=>{if(a.preventDefault(),!k&&(x(!0),z)){let i=new FormData;i.append("name",h),i.append("email",p),i.append("password",n),i.append("url",I),$({url:`${K}/signup`},i).then(r=>r.data).then(r=>{if(!r.statusText==="OK")throw new Error("Bad response",{cause:r});j("/account",{replace:!0,state:{id:r.data,password:n,message:""}}),A(),x(!1)}).catch(r=>{const{response:{status:M,data:{message:g}}}=r;switch(M){case 400:l(g);break;case 409:l(g);break;default:l(g);break}x(!1)})}},G=a=>{a.preventDefault(),j("/login")};return e.jsx(e.Fragment,{children:e.jsxs(s,{w:"100%",h:"100vh",bg:"rgba(0,0,0,0.1)",position:"absolute",backgroundImage:"linear-gradient(#B0F3F1,#FFCFDF)",children:[e.jsx(s,{display:["block","block","none","none"],textAlign:"center",pt:3,pb:2,letterSpacing:4,children:e.jsx(B,{size:"lg",color:"teal",children:"ZCMC REGIONAL TELEMEDICINE CENTER"})}),e.jsx(s,{w:["100%","100%","70%","60%"],h:["80%","80%","70%","70%"],left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"absolute",boxShadow:["none","none","2xl","2xl"],rounded:15,overflow:"hidden",children:e.jsxs(L,{templateRows:"repeat(1, 1fr)",templateColumns:"repeat(12, 1fr)",children:[e.jsx(F,{rowSpan:1,colSpan:[12,12,12,7],children:e.jsx(T,{})}),e.jsx(F,{rowSpan:[1,1,1,0],colSpan:[12,12,12,5],children:e.jsx(s,{w:"100%",h:"100%",bg:["transparent","transparent","whiteAlpha.900","whiteAlpha.600"],children:e.jsxs(o,{flexDirection:"column",justifyContent:"space-between",pl:10,pt:[2,2,0,8],pr:10,pb:3,h:["70vh","70vh","50vh","70vh"],children:[e.jsx(q,{title:"Sign up"}),e.jsxs(s,{w:"inherit",h:"inherit",display:"flex",flexDirection:"column",mt:"1rem",children:[e.jsx(s,{bg:"red",pl:2,pr:2,rounded:5,color:"white",display:v===""?"none":"block",children:e.jsxs(o,{justifyContent:"space-between",alignItems:"center",columnGap:2,children:[e.jsxs(o,{alignItems:"center",columnGap:2,children:[e.jsx(N,{size:25}),e.jsx(m,{fontSize:[12,12,14,14],children:v})]}),e.jsx(_,{bg:"red",_hover:{bg:"red"},_active:{bg:"red"},icon:e.jsx(H,{size:30}),onClick:()=>l("")})]})}),e.jsx(d,{isSignup:!1,type:"text",title:"",value:h,setValue:f,placeholder:"Username",errorMessage:E,isError:!1,mt:5,isRequired:!1,children:e.jsx(s,{w:8,h:4,mt:6,mb:6,borderRight:"1px solid rgba(0,0,0,0.2)",children:e.jsx(c,{children:e.jsx(U,{color:"teal",size:15})})})}),e.jsx(d,{isSignup:!1,type:"text",title:"",value:p,setValue:b,placeholder:"Email",errorMessage:E,isError:!1,mt:3,isRequired:!1,children:e.jsx(s,{w:8,h:4,mt:6,mb:6,borderRight:"1px solid rgba(0,0,0,0.2)",children:e.jsx(c,{children:e.jsx(V,{color:"teal",size:15})})})}),e.jsx(d,{isSignup:!1,type:"password",title:"",value:n,setValue:w,placeholder:"Password",errorMessage:C,isError:!1,mt:3,isRequired:!1,children:e.jsx(s,{w:8,h:4,mt:6,mb:6,borderRight:"1px solid rgba(0,0,0,0.2)",children:e.jsx(c,{children:e.jsx(R,{color:"teal",size:15})})})}),e.jsx(d,{isSignup:!1,type:"password",title:"",value:u,setValue:S,placeholder:"Confirm password",errorMessage:C,isError:!1,mt:3,isRequired:!1,children:e.jsx(s,{w:8,h:4,mt:6,mb:6,borderRight:"1px solid rgba(0,0,0,0.2)",children:e.jsx(c,{children:e.jsx(R,{color:"teal",size:15})})})}),e.jsxs(o,{w:"100%",columnGap:5,rowGap:3,mt:[10,10,12,14],flexDirection:["column","column","row-reverse","column"],children:[e.jsx(y,{w:"inherit",isLoading:k,loadingText:"Signing In",bg:"teal",color:"white",_hover:{bg:"teal"},onClick:a=>D(a),disabled:h===""||p===""||n===""||n!==u,children:e.jsx(m,{fontSize:[12,12,14,14],children:"Register"})}),e.jsx(y,{w:"inherit",bg:"gray",color:"white",_hover:{bg:"darkorange"},onClick:a=>G(a),children:e.jsx(m,{fontSize:[12,12,14,14],children:"Sign In"})})]})]}),e.jsx(O,{})]})})})]})})]})})};export{J as default};
