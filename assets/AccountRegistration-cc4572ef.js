import{a as G,W as N,u as P,r as t,j as e,B as n,C as E,F as _,A as W,T as g,b as h,X,Y,Z,e as F,f as J}from"./index-505ac89e.js";const O=()=>{const{registerAccount:C}=G(),{state:i}=N(),l=P(),[o,x]=t.useState(""),[c,S]=t.useState(""),[u,f]=t.useState(""),[d,j]=t.useState(""),[r,L]=t.useState(""),[v,M]=t.useState(""),[I,y]=t.useState(""),[D,k]=t.useState(""),[z,A]=t.useState(""),[R,V]=t.useState(""),[m,B]=t.useState(!1),[b,p]=t.useState(!1),H=s=>{s.preventDefault(),localStorage.removeItem("id"),l("/login",{replace:!0})},T=()=>{S(""),f(""),j("")},q=async s=>{if(s.preventDefault(),b)return;p(!0);let a=new FormData;a.append("id",localStorage.getItem("id")),a.append("firstname",c.trim()),a.append("middlename",u.trim()),a.append("lastname",d.trim()),a.append("hospital",r.trim()),a.append("position",I.trim()),a.append("specialization",v.trim()),C(a,(U,w)=>{switch(U){case 200:localStorage.removeItem("id"),T(),B(!0),x(w),p(!1);break;default:x(w)}p(!1)})};return t.useEffect(()=>{if(i!==void 0){localStorage.setItem("id",i);return}return(localStorage.getItem("id")===null||localStorage.getItem("id")===void 0)&&l("/login",{replace:!0}),()=>localStorage.removeItem("id")},[i,l]),e.jsx(e.Fragment,{children:e.jsx(n,{w:"100%",h:"100vh",bg:["white","white","rgba(0,0,0,0.04)","rgba(0,0,0,0.04)"],children:e.jsx(E,{h:"100vh",children:e.jsx(n,{w:"30rem",h:r===1?"45rem":"40rem",bg:["transparent","transparent","white","white"],rounded:10,boxShadow:["none","none","lg","lg"],overflow:"hidden",children:e.jsxs(_,{h:"inherit",flexDirection:"column",justifyContent:"space-between",pl:10,pt:[2,2,5,8],pr:10,pb:3,children:[e.jsx(W,{title:"User information"}),o===""?null:e.jsx(n,{h:"10%",pl:2,pr:2,rounded:5,color:"red",display:o==="2"?"none":"block",children:e.jsx(E,{h:"100%",children:e.jsx(g,{fontSize:[12,12,14,14],children:o})})}),e.jsxs(n,{w:"inherit",display:"flex",flexDirection:"column",mt:o===""?"2rem":"1.1rem",children:[e.jsx(h,{isSignup:!0,type:"text",title:"",value:c,setValue:S,placeholder:"First name",errorMessage:D,setErrorMessage:k,mt:3,isRequired:!1}),e.jsx(h,{isSignup:!0,type:"text",title:"",value:u,setValue:f,placeholder:"Middle name",errorMessage:z,setErrorMessage:A,mt:3,isRequired:!1}),e.jsx(h,{isSignup:!0,type:"text",title:"",value:d,setValue:j,placeholder:"Last name",errorMessage:R,setErrorMessage:V,mt:3,isRequired:!1}),e.jsxs(X,{mt:5,bg:"white",focusBorderColor:"rgba(0, 128, 128,0.5)",placeholder:"Position",onChange:s=>{y(s.target.value)},children:[e.jsx("option",{children:"Nurse "}),e.jsx("option",{children:"Doctor "})]}),e.jsx(Y,{value:r,setValue:L,mt:5}),r==="1"?e.jsx(Z,{value:v,setValue:M,mt:5}):null,m?e.jsx(F,{mt:14,bg:"teal",color:"white",_hover:{bg:"teal"},onClick:s=>H(s),children:e.jsx(g,{children:m?"Go to Login":"Save"})}):e.jsx(F,{isLoading:b,loadingText:"Saving",mt:14,bg:"teal",color:"white",_hover:{bg:"teal"},isDisabled:c===""||u===""||d===""||r==="",onClick:s=>q(s),children:e.jsx(g,{children:m?"Go to Login":"Save"})})]}),e.jsx(J,{})]})})})})})};export{O as default};
