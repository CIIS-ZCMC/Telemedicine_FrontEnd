import{u as R,r as l,a as E,j as e,B as s,H as z,G as D,b as f,A as G,F as i,c as T,I as B,T as c,d as L,e as N,C as k,f as v,g as _,h as P,i as x,k as M,P as q,l as H}from"./index-67175ecc.js";const O=()=>{const r=R(),[d,b]=l.useState(""),[h,m]=l.useState(""),[j,w]=l.useState(!1),[p,n]=l.useState(""),{setUser:S}=E(),C=()=>{b(""),m("")},F=async t=>{if(t.preventDefault(),j)return;w(!0);let u=new FormData;u.append("name",d.trim()),u.append("password",h),q({url:`${H}/signin`},u).then(o=>{const{statusText:g,data:{data:a}}=o;if(!g==="OK")throw new Error("Bad response.",{cause:o});sessionStorage.setItem("token",a.token),S(a),r("/"),C()}).catch(o=>{const{response:{status:g,data:{message:a,data:A}}}=o;switch(g){case 302:r("/account",{state:A});break;case 400:n(a);break;case 401:n(a);break;case 403:n(a);break;case 404:n(a);break;default:n("Please try again later.");break}}),w(!1)},I=t=>{t.preventDefault(),r("/register")},y=t=>{t.preventDefault(),r("/account-recovery")};return e.jsx(e.Fragment,{children:e.jsxs(s,{w:"100%",h:"100vh",bg:"rgba(0,0,0,0.1)",position:"absolute",backgroundImage:"linear-gradient(#B0F3F1,#FFCFDF)",children:[e.jsx(s,{display:["block","block","none","none"],textAlign:"center",pt:3,pb:2,letterSpacing:4,children:e.jsx(z,{size:"lg",color:"teal",children:"ZCMC REGIONAL TELEMEDICINE CENTER"})}),e.jsx(s,{w:["100%","100%","70%","60%"],h:["80%","80%","60%","70%"],left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"absolute",boxShadow:["none","none","2xl","2xl"],rounded:15,overflow:"hidden",children:e.jsxs(D,{templateRows:"repeat(1, 1fr)",templateColumns:"repeat(12, 1fr)",children:[e.jsx(f,{rowSpan:1,colSpan:[12,12,12,7],children:e.jsx(G,{})}),e.jsx(f,{rowSpan:[1,1,1,0],colSpan:[12,12,12,5],children:e.jsx(s,{w:"100%",h:"100%",bg:["transparent","transparent","whiteAlpha.900","whiteAlpha.600"],children:e.jsxs(i,{flexDirection:"column",justifyContent:"space-between",pl:10,pt:[2,2,0,8],pr:10,pb:3,h:["70vh","70vh","40vh","70vh"],children:[e.jsx(T,{title:"Sign In"}),e.jsxs(s,{w:"inherit",h:"inherit",display:"flex",flexDirection:"column",mt:p===""?"2rem":"1.1rem",children:[e.jsx(s,{bg:"red",pl:2,pr:2,rounded:5,color:"white",display:p===""?"none":"block",children:e.jsxs(i,{justifyContent:"space-between",alignItems:"center",columnGap:2,children:[e.jsxs(i,{alignItems:"center",columnGap:2,children:[e.jsx(B,{size:25}),e.jsx(c,{fontSize:[12,12,14,14],children:p})]}),e.jsx(L,{bg:"red",_hover:{bg:"red"},_active:{bg:"red"},icon:e.jsx(N,{size:30}),onClick:()=>n("")})]})}),e.jsx(k,{isSignup:!1,type:"text",title:"",value:d,setValue:b,placeholder:"Username",mt:5,isRequired:!1,children:e.jsx(s,{w:8,h:4,mt:6,mb:6,borderRight:"1px solid rgba(0,0,0,0.2)",children:e.jsx(v,{children:e.jsx(_,{color:"teal",size:15})})})}),e.jsx(k,{isSignup:!1,type:"password",title:"",value:h,setValue:m,placeholder:"Password",mt:3,isRequired:!1,children:e.jsx(s,{w:8,h:4,mt:6,mb:6,borderRight:"1px solid rgba(0,0,0,0.2)",children:e.jsx(v,{children:e.jsx(P,{color:"teal",size:15})})})}),e.jsx(x,{color:"blackAlpha.500",bg:"transparent",mt:[4,4,6,8],_hover:{bg:"transparent",color:"blackAlpha.700"},_active:{bg:"white",color:"gray"},onClick:t=>y(t),children:e.jsx(c,{fontWeight:400,fontSize:14,children:"Forgot password?"})}),e.jsxs(i,{w:"100%",columnGap:5,rowGap:3,mt:[4,4,4,8],flexDirection:["column","column","row-reverse","column"],children:[e.jsx(x,{w:"inherit",isLoading:j,loadingText:"Signing In",bg:"teal",color:"white",_hover:{bg:"teal"},onClick:t=>F(t),disabled:d===""||h==="",children:e.jsx(c,{fontSize:[12,12,14,14],children:"Login"})}),e.jsx(x,{w:"inherit",bg:"gray",color:"white",_hover:{bg:"darkorange"},onClick:t=>I(t),children:e.jsx(c,{fontSize:[12,12,14,14],children:"Create account?"})})]})]}),e.jsx(M,{})]})})})]})})]})})};export{O as default};
